{% extends "layouts/base.html" %}

{% block title %} {{title}} {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
    .image-cropper {
        width: 105px;
        height: 105px;
        position: relative;
        overflow: hidden;
        border-radius: 50%;
    }

    .profile-pic {
        display: inline;
        margin: 0 auto;
        height: 100%;
        width: auto;
    }

    .hide {
        display: none;
    }

    .result {
        position: absolute;
        width: 100%;
        max-width: 920px;
        cursor: pointer;
        overflow-y: auto;
        max-height: 400px;
        box-sizing: border-box;
        z-index: 1001;
    }
</style>
{% endblock stylesheets %}

{% block content %}
<section class="section  pt-6 pt-md-7 d-flex mb-7 justify-content-center">
    <div class="container">
        <div class="row ">
            <div class="col-md-12 mx-auto">
                <div id="Carousel2" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item">
                            <img class="d-block w-100 rounded" src="static/images/eventos.jpg" alt="First slide">
                        </div>
                        <div class="carousel-item active">
                            <img class="d-block w-100 rounded" src="static/images/eventos.jpg" alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100 rounded" src="static/images/eventos.jpg" alt="Third slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#Carousel2" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Preview item</span>
                    </a>
                    <a class="carousel-control-next" href="#Carousel2" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next Item</span>
                    </a>
                </div>
            </div>
        </div>
        <h4 class="text-left mb-3 mt-5">Visualizar por categoria</h4>
        <div class="owl-carousel owl-theme .profile-pic">
            {% for cat in category %}
            <a href="{{url_for('list_events',id=cat.id)}}">
                <figure class="item figure ">
                    <img class="figure-img img-fluid image-cropper  " src="static/images/f7b34c07324a7600a95c.png"
                        alt="">
                    <figcaption class="figure-caption text-center">{{cat.name}}</figcaption>
                </figure>
            </a>
            {% endfor %}
        </div>
    </div>
</section>
<section class="section section-md pb-0 " id="hide_search">
    {% if events %}
    <div class="container z-2 mt-n9 mt-lg-n10">
        <h4 class="text-dark  font-weight-normal  d-inline mb-0 mb-3 mr-2">Recomendados para vocÃª</h4>
        <div class="row mt-3">
            {% for event in events%}
            <div class="col-12 col-sm-6 col-lg-3 mb-4 mb-lg-3">
                <a href="{{url_for('event',id=event.id)}}" class="card text-center border-light animate-up-4">
                    <img class="card-img-top rounded-top" src="static/images/f7b34c07324a7600a95c.png"
                        alt="Card image cap" style="height: 135px; ">
                    <div class="card-body ">
                        {% if event.start_date == event.end_date %}
                        <small class="d-block mb-2 text-danger">{{event.start_date.strftime('%a, %b %d %M') }}</small>
                        {% else %}
                        <small class="d-block mb-2 text-danger">{{event.start_date.strftime('%d %b')
                            }}>{{event.end_date.strftime('%Y-%m-%d') }}</small>
                        {% endif %}
                        <h6 class="text-gray mb-0">{{event.name}}</h6>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-6 col-lg-3">
                <div href="" class="card text-center border-light animate-up-3 mb-7">
                    <div class="card-body p-5 m">
                        <div class="icon icon-shape icon-shape-secondary rounded-circle mb-4"><span
                                class="fab fa-soundcloud"></span></div>
                        <h6 class="text-gray mb-0">Nenhum Evento Encontrado!</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
</section>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
    integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
    crossorigin="anonymous"></script>
<script>
    $('.owl-carousel').owlCarousel({
        loop: true,
        margin: 10,
        nav: false,
        responsive: {
            0: {
                items: 3
            },
            600: {
                items: 4
            },
            1000: {
                items: 8
            }
        }
    })
</script>

{% endblock javascripts %}